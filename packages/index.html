<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Third-party packages - Getting Started with CheriBSD 23.11</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="../favicon.svg">
        
        
        <link rel="shortcut icon" href="../favicon.png">
        
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="../fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../cover/index.html">Getting Started with CheriBSD 23.11</a></li><li class="chapter-item expanded "><a href="../introduction/index.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../background/index.html"><strong aria-hidden="true">2.</strong> Background</a></li><li class="chapter-item expanded "><a href="../features/index.html"><strong aria-hidden="true">3.</strong> CheriBSD features</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../features/kernel.html"><strong aria-hidden="true">3.1.</strong> Kernel compilation modes</a></li><li class="chapter-item expanded "><a href="../features/processes.html"><strong aria-hidden="true">3.2.</strong> Process environments</a></li><li class="chapter-item expanded "><a href="../features/desktop.html"><strong aria-hidden="true">3.3.</strong> CheriABI desktop environment</a></li><li class="chapter-item expanded "><a href="../features/temporal.html"><strong aria-hidden="true">3.4.</strong> Userlevel heap temporal memory safety</a></li><li class="chapter-item expanded "><a href="../features/c18n.html"><strong aria-hidden="true">3.5.</strong> Userlevel software compartmentalization</a></li><li class="chapter-item expanded "><a href="../features/bhyve.html"><strong aria-hidden="true">3.6.</strong> bhyve hypervisor</a></li></ol></li><li class="chapter-item expanded "><a href="../nonfeatures/index.html"><strong aria-hidden="true">4.</strong> Unsupported FreeBSD features</a></li><li class="chapter-item expanded "><a href="../getting/index.html"><strong aria-hidden="true">5.</strong> Getting CheriBSD</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../downloading/index.html"><strong aria-hidden="true">5.1.</strong> Downloading image files</a></li><li class="chapter-item expanded "><a href="../building/index.html"><strong aria-hidden="true">5.2.</strong> Building image files</a></li></ol></li><li class="chapter-item expanded "><a href="../morello/index.html"><strong aria-hidden="true">6.</strong> CheriBSD on an Arm Morello board</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../morello-console/index.html"><strong aria-hidden="true">6.1.</strong> Accessing the Morello console</a></li><li class="chapter-item expanded "><a href="../morello-firmware/index.html"><strong aria-hidden="true">6.2.</strong> Upgrading the Morello firmware</a></li><li class="chapter-item expanded "><a href="../morello-install/index.html"><strong aria-hidden="true">6.3.</strong> Installing on a Morello board</a></li><li class="chapter-item expanded "><a href="../morello-issues/index.html"><strong aria-hidden="true">6.4.</strong> Morello known issues</a></li></ol></li><li class="chapter-item expanded "><a href="../packages/index.html" class="active"><strong aria-hidden="true">7.</strong> Third-party packages</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../packages/limitations.html"><strong aria-hidden="true">7.1.</strong> Limitations of packages</a></li><li class="chapter-item expanded "><a href="../packages/missing.html"><strong aria-hidden="true">7.2.</strong> Missing packages</a></li><li class="chapter-item expanded "><a href="../packages/upgrading.html"><strong aria-hidden="true">7.3.</strong> Upgrading packages</a></li><li class="chapter-item expanded "><a href="../packages/debugging.html"><strong aria-hidden="true">7.4.</strong> Debugging packages</a></li><li class="chapter-item expanded "><a href="../packages/commands.html"><strong aria-hidden="true">7.5.</strong> Useful commands</a></li></ol></li><li class="chapter-item expanded "><a href="../helloworld/index.html"><strong aria-hidden="true">8.</strong> Compiling &quot;Hello World&quot;</a></li><li class="chapter-item expanded "><a href="../benchmarking/index.html"><strong aria-hidden="true">9.</strong> Benchmarking guidance</a></li><li class="chapter-item expanded "><a href="../support/index.html"><strong aria-hidden="true">10.</strong> Getting help</a></li><li class="chapter-item expanded "><a href="../resources/index.html"><strong aria-hidden="true">11.</strong> Resources</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">Getting Started with CheriBSD 23.11</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        <a href="https://github.com/CTSRD-CHERI/cheribsd-getting-started" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#third-party-packages" id="third-party-packages">Third-party packages</a></h1>
<p>CheriBSD on Morello ships with CheriABI, hybrid ABI and benchmark ABI packages
(compilations) of the CheriBSD ports collection, each targeting a different
form of code generation and Application Binary Interface (ABI).
They have different levels of completeness, maturity, security, and support.</p>
<p><a href="https://github.com/CTSRD-CHERI/cheribsd-ports">CheriBSD ports</a>
extends FreeBSD ports, a collection of over 34,000 third-party
software adaptations to FreeBSD, with CHERI- and CheriBSD-specific patches.
The
<a href="https://github.com/CTSRD-CHERI/cheribsd-ports/tree/releng/23.11">releng/23.11</a>
CheriBSD ports branch contains ports matching the packages built for the current
release.</p>
<h2><a class="header" href="#overview" id="overview">Overview</a></h2>
<p>The following table presents an overview of available package managers in
CheriBSD that are described in more details in consecutive sections.
You can also browse package repositories at
<a href="https://pkg.CheriBSD.org/">pkg.CheriBSD.org</a>
to check what packages are available for a specific ABI version.</p>
<table><thead><tr><th>ABI</th><th>#</th><th>Manager</th><th>Install path</th><th>Suitable for</th></tr></thead><tbody>
<tr><td>CheriABI</td><td>~10,000</td><td><code>pkg64c</code></td><td><code>/usr/local</code></td><td>Security evaluation</td></tr>
<tr><td>Benchmark ABI</td><td>~10,000</td><td><code>pkg64cb</code></td><td><code>/usr/local64cb</code></td><td>Performance evaluation</td></tr>
<tr><td>Hybrid ABI</td><td>~25,000</td><td><code>pkg64</code></td><td><code>/usr/local64</code></td><td>Day-to-day use</td></tr>
</tbody></table>
<h2><a class="header" href="#package-managers-in-cheribsd" id="package-managers-in-cheribsd">Package managers in CheriBSD</a></h2>
<p><em>Note:</em> As of this writing we only provide packages for Morello systems.</p>
<p>CheriBSD includes three package managers:</p>
<ul>
<li><code>pkg64c</code> for CheriABI packages;</li>
<li><code>pkg64cb</code> for benchmark ABI packages;</li>
<li><code>pkg64</code> for hybrid ABI packages.</li>
</ul>
<p>The FreeBSD package manager <code>pkg</code> is not available on CheriBSD.
We expect that <code>pkg64c</code> will be renamed to <code>pkg</code> in a future CheriBSD release.
The intention is that, over time, the CheriABI packages will become more
mature, and hence the preferred collection for day-to-day use.</p>
<p>The syntax of the <code>pkg64*</code> commands match the syntax of the <code>pkg</code>
command from FreeBSD.
You can find information on package manager commands in FreeBSD's <code>pkg</code> manual
pages shipped with CheriBSD, e.g. for the commands <code>pkg64 rquery</code> and
<code>pkg64c rquery</code>, execute <code>man pkg-rquery</code>.</p>
<p>Additionally, you can learn more about FreeBSD's package manager by reading the
<a href="https://www.freebsd.org/cgi/man.cgi?pkg(7)">pkg(8) manual page</a> online
and the <a href="https://docs.freebsd.org/en/books/handbook/ports/">FreeBSD Handbook chapter on packages and
ports</a>.</p>
<h2><a class="header" href="#cheriabi-packages" id="cheriabi-packages">CheriABI packages</a></h2>
<p><strong>CheriABI packages</strong> are compiled using pure-capability CHERI C/C++, and
employ fine-grained C/C++ memory protection.</p>
<p>These packages are considered appropriate for <strong>experimental use</strong> and
a <strong>security evaluation</strong> of CHERI-extended hardware-software stacks.
Their primary function is to provide necessary dependencies for efforts to port
software to CheriABI and to support CHERI demonstration and evaluation.
They are suitable for research and development of software that benefit from
spatial and temporal memory safety as well as software compartmentalisation.
They can also be used to investigate potential memory safety issues in
third-party software that are easier to detect and debug using a CHERI-enabled
hardware-software stack.</p>
<p>There are currently ~10,000 CheriABI packages available, including:</p>
<ul>
<li>
<p>Databases: <code>sqlite3</code>;</p>
</li>
<li>
<p>Development utilities: <code>autoconf</code>, <code>chericat</code>, <code>cmake</code>, <code>git</code>, <code>gmake</code>;</p>
</li>
<li>
<p>Editors: <code>nano</code>, <code>vim-tiny</code>;</p>
</li>
<li>
<p>GUI environment: <code>cheri-desktop</code> (<code>seatd</code>, <code>sddm</code>, <code>wayland</code>,
<code>plasma5-plasma-workspace</code>, <code>dolphin</code>, <code>kate</code>, <code>konsole</code>, <code>okular</code>);</p>
</li>
<li>
<p>Hypervisor tools: <code>cheri-vm-support</code> (<code>u-boot-bhyve-arm64</code>);</p>
</li>
<li>
<p>Language interpreters: <code>perl5</code>, <code>tcl86</code>;</p>
</li>
<li>
<p>Libraries: <code>libnghttp2</code>, <code>libressl</code>, <code>libssh2</code>, <code>lzlib</code>;</p>
</li>
<li>
<p>Networking tools: <code>rsync31</code>;</p>
</li>
<li>
<p>Shells: <code>bash</code>, <code>dash</code>;</p>
</li>
<li>
<p>System tools: <code>sudo</code>, <code>tmux</code>.</p>
</li>
</ul>
<p>The packages are installed in the standard <code>/usr/local</code> hierarchy as they match
the base system ABI.</p>
<h2><a class="header" href="#benchmark-abi-packages" id="benchmark-abi-packages">Benchmark ABI packages</a></h2>
<p><strong>Benchmark ABI packages</strong> are compiled similarly to CheriABI packages, but
differ in generated code that takes into account current limitations of the
Morello architecture.
You should make sure to read the
<a href="../benchmarking/">Benchmarking guidance</a>
section before using the benchmark ABI packages to understand the differences
between CheriABI and the benchmark ABI.</p>
<p>These packages are considered appropriate for a <strong>performance evaluation</strong> of
the Arm Morello architecture and third-party software executed on it.
They should not be used for a security evaluation, in which case you should use
CheriABI instead.</p>
<p>There are currently ~10,000 benchmark ABI packages available which should
include almost all packages that are available in the CheriABI package
repository.</p>
<p>The packages are installed in the <code>/usr/local64cb</code> hierarchy.
By default, <code>/usr/local64cb/bin</code> and <code>/usr/local64cb/sbin</code> are included in your
<code>PATH</code> environment variable of a shell shipped with CheriBSD.
If you are planning to use a custom shell, remember to add these paths to
<code>PATH</code>.</p>
<p>Different numbers of CheriABI and benchmark ABI packages is a result of using a
custom local base path (<code>/usr/local64cb</code>) and a custom <code>LD_LIBRARY_PATH</code>
variable name (<code>LD_64CB_LIBRARY_PATH</code>) for the benchmark ABI.
Multiple ports do not correctly handle these differences.</p>
<h2><a class="header" href="#hybrid-abi-packages" id="hybrid-abi-packages">Hybrid ABI packages</a></h2>
<p><strong>Hybrid ABI packages</strong> are compiled almost identically to packages in the
baseline non-CHERI architecture (e.g., Armv8-a for Morello, and 64-bit
RISC-V for RISC-V), and do not have improvements in memory protection or
software compartmentalization.</p>
<p>These packages are considered <em>appropriate for day-to-day use</em>.
They are intended to provide stable versions of tools necessary to develop
software and use your CHERI system while more software is ported to CheriABI.</p>
<p>There are currently ~25,000 hybrid ABI packages available, including:</p>
<ul>
<li>
<p>Browsers: <code>chromium</code>, <code>firefox</code>;</p>
</li>
<li>
<p>Compilers:</p>
<ul>
<li>
<p><code>llvm-morello</code>;</p>
<p>Includes Clang (a CHERI C/C++ compiler), LLD (a linker), and the LLVM
infrastructure for the Arm Morello architecture.
Binaries installed with this package have the suffix <code>-morello</code>.</p>
</li>
<li>
<p><code>llvm</code>;</p>
<p>Adds links in <code>/usr/local64/bin</code> to allow the <code>llvm-morello</code> package to be
used as the default LLVM package, without the suffix <code>-morello</code>,
e.g. <code>clang</code> instead of <code>clang-morello</code>.</p>
</li>
<li>
<p><code>llvm-base</code>;</p>
<p>Adds links in <code>/usr/bin</code> to allow the <code>llvm</code> package to be used in place of
a base-system toolchain. The <code>cc</code> script installed with this package adds
compiler flags required to natively compile code for a CHERI-enabled
architecture.</p>
</li>
<li>
<p><code>rust</code>.</p>
</li>
</ul>
</li>
<li>
<p>Debuggers: <code>gdb</code>;</p>
</li>
<li>
<p>Development utilities: <code>meson</code>, <code>ninja</code>;</p>
</li>
<li>
<p>Editors: <code>emacs</code>;</p>
</li>
<li>
<p>Language interpreters: <code>lua54</code>, <code>python39</code>, <code>ruby</code>;</p>
</li>
<li>
<p>Shells: <code>fish</code>, <code>zsh</code>.</p>
</li>
</ul>
<p>The packages are installed in the <code>/usr/local64</code> hierarchy.
By default, <code>/usr/local64/bin</code> and <code>/usr/local64/sbin</code> are included in your
<code>PATH</code> environment variable of a shell shipped with CheriBSD.
If you are planning to use a custom shell, remember to add these paths to
<code>PATH</code>.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../morello-issues/index.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../packages/limitations.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="../morello-issues/index.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="../packages/limitations.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
